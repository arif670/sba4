home controller
package com.boot.mvc.com.HomeController;

import org.springframework.beans.factory.annotation.Autowired;


import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

import com.boot.mvc.com.bean.DxcUsersDao;
import com.boot.mvc.com.model.DxcUsers;
@Controller
public class HomeController {
	@Autowired
	DxcUsersDao dao;


	@RequestMapping(value="/")
	public String home()
	{
		return "NewFile2";
	}
	
	@RequestMapping(value="/newuser")
	public String home1()
	{
		return "NewFile1";
	}

	@RequestMapping(value="/loginsuccesspage")
	public String loginPage(Model model,@ModelAttribute DxcUsers DxcUsers)
	{
		int userId=DxcUsers.getUserId();
		String password=DxcUsers.getPassword();
		DxcUsers AppUsers2=dao.getUsersById(userId);
		if((userId==(AppUsers2.getUserId())) && (password.equals(AppUsers2.getPassword())))
		{
			return "loginsuccesspage";
		}

		else
		{

			return "loginfail";
		}

	}

	@RequestMapping(value="/forgetpasswordpage")
	public String forgetPassword()
	{
		return "forgetpasswordpage";
	}
	@RequestMapping(value="/changepasswordpage")
	public String forgetPassword(Model model,@ModelAttribute DxcUsers DxcUsers)
	{
		int userId=DxcUsers.getUserId();
		String userName=DxcUsers.getUsername();
		String securityQuestion=DxcUsers.getSecurityQuestion();
		String securityAnswer=DxcUsers.getSecurityAnswer();
		DxcUsers AppUsers2=dao.getUsersById(userId);
		if((userId==(AppUsers2.getUserId())) && (userName.equals(AppUsers2.getUsername()))  && (securityQuestion.equals(AppUsers2.getSecurityQuestion()))  &&  (securityAnswer.equals(AppUsers2.getSecurityAnswer())) )
		{
			model.addAttribute("userId",userId);
			return "changepasswordpage";
		}
		else 
		{
			return "changepasswordfail";
		}


	}

	@RequestMapping(value="/changesuccesspage")
	public String changePassword(Model model,@ModelAttribute DxcUsers DxcUsers)
	{
		int userId=DxcUsers.getUserId();
		String password=DxcUsers.getPassword();
		String status=dao.updatePassword(userId, password);
		model.addAttribute("status",status);
		return "passwordupdatestatus";
	}


	@RequestMapping(value="/createstatuspage")
	public String saveUser(Model model,@ModelAttribute DxcUsers DxcUsers)
	{
		String status=dao.saveUsers(DxcUsers);
		model.addAttribute("status",status);
		return "createstatuspage";

	}

	@RequestMapping(value="/createuserpage")
	public String createUser()
	{
		return "createuserpage";
	}



	}
---------------------------------------------------------
dao

package com.boot.mvc.com.bean;

import javax.transaction.Transactional;

import org.hibernate.Query;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import com.boot.mvc.com.model.DxcUsers;
@Component
@Transactional
public class DxcUsersDao {
	@Autowired
	SessionFactory sessionFactory;

	
	public DxcUsersDao(SessionFactory sessionFactory) {
		super();
		this.sessionFactory = sessionFactory;
	}

	public DxcUsers getUsersById(int userId){
		try{
		Session session=sessionFactory.getCurrentSession();
		DxcUsers DxcUsers=(DxcUsers)session.get(DxcUsers.class,userId);
		return DxcUsers;
		}
		catch (Exception e) {
		// TODO: handle exception
		e.printStackTrace();
		}

		return null;
		}

	public String updatePassword(int userId, String password)
	{
		try
		{
			Session session=sessionFactory.getCurrentSession();
			Query query = session.createQuery("update DxcUsers set password = :password" +" where userId = :userId");
			query.setParameter("password",password);
			query.setParameter("userId",userId);
			int count=query.executeUpdate();
			if(count>0)
				return "password updated";

		}
		catch (Exception e) {
			// TODO: handle exception
			e.printStackTrace();
		}
		return "password cannot updated";

	}


	public String saveUsers(DxcUsers DxcUsers){
		try{
			Session session=sessionFactory.getCurrentSession();
			session.save(DxcUsers);
			return "user Created";
		}
		catch (Exception e) {
		// TODO: handle exception
		e.printStackTrace();
		}

		return "cannot create user";
		}


}
-------------------------------------------------------------user
package com.boot.mvc.com.model;

import javax.persistence.Id;

public class DxcUsers {
@Id	
private int userId;
private String username;
private String password;
private String securityQuestion;
private String securityAnswer;
public  int getUserId() {
	return userId;
}
public void setUserId(int userId) {
	this.userId = userId;
}
public String getUsername() {
	return username;
}
public void setUsername(String username) {
	this.username = username;
}
public String getPassword() {
	return password;
}
public void setPassword(String password) {
	this.password = password;
}
public String getSecurityQuestion() {
	return securityQuestion;
}
public void setSecurity_Questions(String securityQuestion) {
	this.securityQuestion = securityQuestion;
}
public String getSecurityAnswer() {
	return securityAnswer;
}
public void setSecurity_Answer(String securityAnswer) {
	this.securityAnswer = securityAnswer;
}
public DxcUsers(int userId, String username, String password, String securityQuestion, String securityAnswer) {
	super();
	this.userId = userId;
	this.username = username;
	this.password = password;
	this.securityQuestion = securityQuestion;
	this.securityAnswer = securityAnswer;
}
@Override
public String toString() {
	return "DxcUsers [userId=" + userId + ", username=" + username + ", password=" + password + ", securityQuestion="
			+ securityQuestion + ", security_Answer=" + securityAnswer + "]";
}

}
-----------------------------------------------
all jsp

---------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>change password</title>
<style>   
Body {  
  font-family: Calibri, Helvetica, sans-serif;  
  background-color: pink;  
}  
button {   
       background-color: #4CAF50;   
       width: 100%;  
        color: orange;   
        padding: 15px;   
        margin: 10px 0px;   
        border: none;   
        cursor: pointer;   
         }   
 form {   
        border: 3px solid #f1f1f1;   
    }   
 input[type=text], input[type=password] {   
        width: 100%;   
        margin: 8px 0;  
        padding: 12px 20px;   
        display: inline-block;   
        border: 2px solid green;   
        box-sizing: border-box;   
    }  
 button:hover {   
        opacity: 0.7;   
    }   
  .cancelbtn {   
        width: auto;   
        padding: 10px 18px;  
        margin: 10px 5px;  
    }   
        
     
 .container {   
        padding: 25px;   
        background-color: lightblue;  
    }   
</style>   
</head>
<form action="changePassword" class="form-group">

<% String usrId = request.getParameter("userId"); %>


<table id="tblad">

<tr><td>UserId:</td><td><input type="text" disabled="disabled" value="${userId}" name="usrIdShow" class="form-control"></td></tr>

<input type="hidden" value="${userId}" name="usrId" class="form-control">
  
 
<tr><td>Password:</td><td><input type="text" name="password" class="form-control" required></td></tr>
<tr><td>Confirm Password:</td><td><input type="text" name="cpassword" class="form-control" required></td></tr>

<tr><td></td><td><input type="submit" value="Submit" class="btn btn-success btn-block"></td></tr>

</table>
</form>


</div>

</div>
<body>

</body>
</html>
------------------------------------------------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>login status</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>
<body>
<p id="ls">${status}</p>

<form action="loginPage">
<input type="submit" value="Logout" class="btn btn-danger" style="float:right">
</form>
</body>
</html>
---------------------------------------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<form action="fpassStatus" class="form-group">
<style>   
Body {  
  font-family: Calibri, Helvetica, sans-serif;  
  background-color: pink;  
}  
button {   
       background-color: #4CAF50;   
       width: 100%;  
        color: orange;   
        padding: 15px;   
        margin: 10px 0px;   
        border: none;   
        cursor: pointer;   
         }   
 form {   
        border: 3px solid #f1f1f1;   
    }   
 input[type=text], input[type=password] {   
        width: 100%;   
        margin: 8px 0;  
        padding: 12px 20px;   
        display: inline-block;   
        border: 2px solid green;   
        box-sizing: border-box;   
    }  
 button:hover {   
        opacity: 0.7;   
    }   
  .cancelbtn {   
        width: auto;   
        padding: 10px 18px;  
        margin: 10px 5px;  
    }   
        
     
 .container {   
        padding: 25px;   
        background-color: lightblue;  
    }   
</style>   
<table id="tblad">

<tr><td>UserId: </td><td><input type="text" name="userId"  class="form-control"></td></tr>
<tr><td>Security Question: </td>
<td >
<select name="securityQuestion"  class="btn btn-info">
<div class="dropdown-menu">
<option class="dropdown-item">Choose a security question</option>
<option class="dropdown-item">What's your nick place?</option>
<option class="dropdown-item">What's your  pet's name?</option>
<option class="dropdown-item">What's your birth place?</option>
<option class="dropdown-item">What's your favorite food?</option>

</div>
</select>
</td>
</tr>
<tr><td>Security Answer:</td><td><input type="text" name="securityAnswer"  class="form-control"></td></tr>
<tr><td></td><td><input type="submit" value="Validate" class="btn btn-success btn-block"></td></tr>


</table>

<% 
String userId = request.getParameter("userId"); 
session.setAttribute("userId",userId); 
%>

</form>

</div>

</div>
</head>
<body>

</body>
</html>
---------------------------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<style>   
Body {  
  font-family: Calibri, Helvetica, sans-serif;  
  background-color: pink;  
}  
button {   
       background-color: #4CAF50;   
       width: 100%;  
        color: orange;   
        padding: 15px;   
        margin: 10px 0px;   
        border: none;   
        cursor: pointer;   
         }   
 form {   
        border: 3px solid #f1f1f1;   
    }   
 input[type=text], input[type=password] {   
        width: 100%;   
        margin: 8px 0;  
        padding: 12px 20px;   
        display: inline-block;   
        border: 2px solid green;   
        box-sizing: border-box;   
    }  
 button:hover {   
        opacity: 0.7;   
    }   
  .cancelbtn {   
        width: auto;   
        padding: 10px 18px;  
        margin: 10px 5px;  
    }   
        
     
 .container {   
        padding: 25px;   
        background-color: lightblue;  
    }   
</style>   
</head>
<body>
<div class="jumbotron">
 <div class="container">
<h2 id="lh">Dxc user Login</h2>
<form action="loginStatus" class="form-group">
<table>
<tr><td>UserId:</td> <td><input type="text" name="userId"  class="form-control"></td></tr>
<tr><td>Password:</td> <td><input type="password" name="password"  class="form-control"></td></tr>
<tr><td></td><td><input type="submit" value="login" class="btn btn-success btn-lg btn-block"></td></tr>
</table>
</form>
<form action="newuser">
<input type="submit" value="new user" class="btn btn-success btn-lg btn-block">
</form>
<form action="forgot password">
<input type="submit" value="forgot password" class="btn btn-success btn-lg btn-block">
</form>

</body>
</html>
------------------------------------------------------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
</head>
<style>   
Body {  
  font-family: Calibri, Helvetica, sans-serif;  
  background-color: pink;  
}  
button {   
       background-color: #4CAF50;   
       width: 100%;  
        color: orange;   
        padding: 15px;   
        margin: 10px 0px;   
        border: none;   
        cursor: pointer;   
         }   
 form {   
        border: 3px solid #f1f1f1;   
    }   
 input[type=text], input[type=password] {   
        width: 100%;   
        margin: 8px 0;  
        padding: 12px 20px;   
        display: inline-block;   
        border: 2px solid green;   
        box-sizing: border-box;   
    }  
 button:hover {   
        opacity: 0.7;   
    }   
  .cancelbtn {   
        width: auto;   
        padding: 10px 18px;  
        margin: 10px 5px;  
    }   
        
     
 .container {   
        padding: 25px;   
        background-color: lightblue;  
    }   
</style>   
<body>
<form action="fpassStatus" class="form-group">

<table id="tblad">

<tr><td>UserId: </td><td><input type="text" name="userId"  class="form-control"></td></tr>
<tr><td>Security Question: </td>
<td >
<select name="securityQuestion"  class="btn btn-info">
<div class="dropdown-menu">
<option class="dropdown-item">What's your nick name?</option>
<option class="dropdown-item">What's your  pet's name?</option>
<option class="dropdown-item">What's your birth place?</option>
<option class="dropdown-item">What's your favorite food?</option>

</div>
</select>
</td>
</tr>
<tr><td>Security Answer:</td><td><input type="text" name="securityAnswer"  class="form-control"></td></tr>
<tr><td></td><td><input type="submit" value="Validate" class="btn btn-success btn-block"></td></tr>


</table>
</body>
</html>
--------------------------------------------------
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Sign Up Status</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link href="css/statusStyle.css" rel="stylesheet">

</head>
<body>


 <div class="container">


<form action="loginPage" class="form-group">
	<p id="stts">${status}</p>
<input type="submit" value="Sign Out" class="btn btn-danger btn-lg" id="sobtn">
</form>

</div>

</div>
</head>
<body>

</body>
</html>


